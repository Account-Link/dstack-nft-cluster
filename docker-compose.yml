services:
  dstack-node:
    build: .
    environment:
      - CONTRACT_ADDRESS=${CONTRACT_ADDRESS:-0x2B0d36FACD61B71CC05ab8F3D2355ec3631C0dd5}
      - CONNECTION_URL=${CONNECTION_URL:-http://dstack-node:8080}
      - RPC_URL=${RPC_URL:-http://host.docker.internal:8545}
      - DSTACK_SOCKET=${DSTACK_SOCKET:-/app/simulator/dstack.sock}
      - PRIVATE_KEY=${PRIVATE_KEY}
    volumes:
      - ./simulator/dstack.sock:/app/simulator/dstack.sock
    ports:
      - "${NODE_PORT:-8080}:8080"